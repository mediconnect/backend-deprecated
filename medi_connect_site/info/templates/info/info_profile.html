{% extends 'customer_header.html' %}

{% block content %}

<ul class="nav nav-pills nav-stacked">
    <li role="presentation" class="active"><a href="{% url 'info_profile' %}">Profile</a></li>
    <li role="presentation"><a href="{% url 'info_profile_password' %}">Password</a></li>
    <li role="presentation"><a href="{% url 'info_profile_patient' %}">Add Patient</a></li>
</ul>


<form action="{% url 'info_profile' %}" method="post" role="form">
    {% csrf_token %}
    {% for field in form.visible_fields %}
    <div class="form-group{% if field.errors %} has-error{% endif %}">
        <label for="{{ field.label }}">{{ field.label }}</label>
        {{ field }}
        {% if field.help_text %}
        <span class="help-block">{{ field.help_text|safe }}</span>
        {% endif %}
        {% for error in field.errors %}
        <label class="control-label">{{ error }}</label>
        {% endfor %}
    </div>
    {% endfor %}
    <button type="submit" class="btn btn-default">Save</button>
</form>

<div class="panel panel-default">
    <div class="panel-heading">Patients Info</div>
    {% if patients_length %}
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Gender</th>
        </tr>
        {% for patient in patients %}
        <tr>
            <td>{{patient.name}}</td>
            <td>{{patient.age}}</td>
            <td>{{patient.gender}}</td>
            <td>
                <form action="{% url 'info_profile_patient_edit' patient_id=patient.id %}" method="get">
                    <button type="submit" class="btn btn-default">Edit</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <div>You currently don't have patients</div>
    {% endif %}
</div>

{% endblock %}